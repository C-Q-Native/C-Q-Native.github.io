<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    
    <script type="application/ld+json">

{  
  "@context":"http://schema.org",
  "@type":"Website",
  "@id":"https:\/\/open-native.com",
  "author": {
    "@type": "Person",
    "name": "é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°",
    
    "image": "https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png"
    
  },
  "name":"é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°",
  "description":"\u003ch3 id=\u0022è¿è¡Œå‚æ•°\u0022\u003eè¿è¡Œå‚æ•°\u003c\/h3\u003e\n\u003cp\u003eå…³äºjavaå¯åŠ¨å‚æ•°é…ç½®ï¼Œå¤§å®¶å¯ä»¥å‚é˜…ï¼š\u003ca href=\u0022https:\/\/docs.oracle.com\/javase\/8\/docs\/technotes\/tools\/unix\/toc.html\u0022\u003eå®˜æ–¹æ–‡æ¡£\u003c\/a\u003e\u003c\/p\u003e\n\u003ch4 id=\u0022æŸ¥çœ‹jvmå‚æ•°\u0022\u003eæŸ¥çœ‹JVMå‚æ•°\u003c\/h4\u003e\n\u003cp\u003eä½¿ç”¨å‘½ä»¤ \u003ccode\u003ejps -l\u003c\/code\u003e æŸ¥çœ‹æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„Javaç¨‹åºï¼ŒåŒæ—¶æ˜¾ç¤ºå¯åŠ¨ç±»ç±»åï¼Œè·å–åˆ°PID\u003c\/p\u003e\n\u003cpre tabindex=\u00220\u0022\u003e\u003ccode\u003e4706 org.apache.catalina.startup.Bootstrap\n5023 sun.tools.jps.Jps\n\u003c\/code\u003e\u003c\/pre\u003e",
  "url":"https:\/\/open-native.com\/java\/java-trouble-shoot\/",
  "keywords":"[]"
}

</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.110.0 with theme Tranquilpeak 0.5.3-BETA">
<meta name="author" content="é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°">
<meta name="keywords" content="">
<meta name="description" content="è¿è¡Œå‚æ•°
å…³äºjavaå¯åŠ¨å‚æ•°é…ç½®ï¼Œå¤§å®¶å¯ä»¥å‚é˜…ï¼šå®˜æ–¹æ–‡æ¡£
æŸ¥çœ‹JVMå‚æ•°
ä½¿ç”¨å‘½ä»¤ jps -l æŸ¥çœ‹æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„Javaç¨‹åºï¼ŒåŒæ—¶æ˜¾ç¤ºå¯åŠ¨ç±»ç±»åï¼Œè·å–åˆ°PID
4706 org.apache.catalina.startup.Bootstrap
5023 sun.tools.jps.Jps
">


<meta property="og:description" content="è¿è¡Œå‚æ•°
å…³äºjavaå¯åŠ¨å‚æ•°é…ç½®ï¼Œå¤§å®¶å¯ä»¥å‚é˜…ï¼šå®˜æ–¹æ–‡æ¡£
æŸ¥çœ‹JVMå‚æ•°
ä½¿ç”¨å‘½ä»¤ jps -l æŸ¥çœ‹æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„Javaç¨‹åºï¼ŒåŒæ—¶æ˜¾ç¤ºå¯åŠ¨ç±»ç±»åï¼Œè·å–åˆ°PID
4706 org.apache.catalina.startup.Bootstrap
5023 sun.tools.jps.Jps
">
<meta property="og:type" content="article">
<meta property="og:title" content="Java é—®é¢˜æ’æŸ¥">
<meta name="twitter:title" content="Java é—®é¢˜æ’æŸ¥">
<meta property="og:url" content="https://open-native.com/java/java-trouble-shoot/">
<meta property="twitter:url" content="https://open-native.com/java/java-trouble-shoot/">
<meta property="og:site_name" content="é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°">
<meta property="og:description" content="è¿è¡Œå‚æ•°
å…³äºjavaå¯åŠ¨å‚æ•°é…ç½®ï¼Œå¤§å®¶å¯ä»¥å‚é˜…ï¼šå®˜æ–¹æ–‡æ¡£
æŸ¥çœ‹JVMå‚æ•°
ä½¿ç”¨å‘½ä»¤ jps -l æŸ¥çœ‹æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„Javaç¨‹åºï¼ŒåŒæ—¶æ˜¾ç¤ºå¯åŠ¨ç±»ç±»åï¼Œè·å–åˆ°PID
4706 org.apache.catalina.startup.Bootstrap
5023 sun.tools.jps.Jps
">
<meta name="twitter:description" content="è¿è¡Œå‚æ•°
å…³äºjavaå¯åŠ¨å‚æ•°é…ç½®ï¼Œå¤§å®¶å¯ä»¥å‚é˜…ï¼šå®˜æ–¹æ–‡æ¡£
æŸ¥çœ‹JVMå‚æ•°
ä½¿ç”¨å‘½ä»¤ jps -l æŸ¥çœ‹æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„Javaç¨‹åºï¼ŒåŒæ—¶æ˜¾ç¤ºå¯åŠ¨ç±»ç±»åï¼Œè·å–åˆ°PID
4706 org.apache.catalina.startup.Bootstrap
5023 sun.tools.jps.Jps
">
<meta property="og:locale" content="zh-cn">

  
    <meta property="article:published_time" content="2018-09-10T16:23:19">
  
  
    <meta property="article:modified_time" content="2018-09-10T16:23:19">
  
  
  
    
      <meta property="article:section" content="java">
    
  
  
    
      <meta property="article:tag" content="java">
    
  


<meta name="twitter:card" content="summary">







  <meta property="og:image" content="https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png">
  <meta property="twitter:image" content="https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png">






    <title>Java é—®é¢˜æ’æŸ¥</title>

    <link rel="icon" href="https://open-native.com/images/favicon.png">
    

    

    <link rel="canonical" href="https://open-native.com/java/java-trouble-shoot/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    
    <link rel="stylesheet" href="https://open-native.com/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="1">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://open-native.com/" aria-label="å»é¦–é¡µ">é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://open-native.com/#about" aria-label="æ‰“å¼€é“¾æ¥: /#about">
    
    
    
      
        <img class="header-picture" src="https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png" alt="ä½œè€…çš„å›¾ç‰‡" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="1">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://open-native.com/#about" aria-label="é˜…è¯»æœ‰å…³ä½œè€…çš„æ›´å¤šä¿¡æ¯">
          <img class="sidebar-profile-picture" src="https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png" alt="ä½œè€…çš„å›¾ç‰‡" />
        </a>
        <h4 class="sidebar-profile-name">é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°</h4>
        
          <h5 class="sidebar-profile-bio">ä¸€åä¸æ–­æ¢ç´¢ã€åšæŒå­¦ä¹ çš„<strong>é—²æ•£å·¥ç¨‹å¸ˆ</strong></h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/" title="Home">
    
      <i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">é¦–é¡µ</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/java" title="Java">
    
      <i class="sidebar-button-icon fas fa-lg fa-info" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Java</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/categories" title="Categories">
    
      <i class="sidebar-button-icon fas fa-lg fa-bookmark" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">åˆ†ç±»</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/tags" title="Tags">
    
      <i class="sidebar-button-icon fas fa-lg fa-tags" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">æ ‡ç­¾</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/archives" title="Archives">
    
      <i class="sidebar-button-icon fas fa-lg fa-archive" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">å½’æ¡£</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/#about" title="About">
    
      <i class="sidebar-button-icon fas fa-lg fa-question" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">å…³äº</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/RcXu" target="_blank" rel="noopener" title="GitHub">
    
      <i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/21171872/black-mr" target="_blank" rel="noopener" title="Stack Overflow">
    
      <i class="sidebar-button-icon fab fa-lg fa-stack-overflow" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/index.xml" title="RSS">
    
      <i class="sidebar-button-icon fas fa-lg fa-rss" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="1"
        class="
               hasCoverMetaIn
               ">
        <article class="post" id="top">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title">
      Java é—®é¢˜æ’æŸ¥
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2018-09-10T16:23:19&#43;08:00">
        
  ä¹æœˆ 10, 2018

      </time>
    
    
  
  
    <span>å‘å¸ƒåœ¨</span>
    
      <a class="category-link" href="https://open-native.com/categories/java">java</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              <h3 id="è¿è¡Œå‚æ•°">è¿è¡Œå‚æ•°</h3>
<p>å…³äºjavaå¯åŠ¨å‚æ•°é…ç½®ï¼Œå¤§å®¶å¯ä»¥å‚é˜…ï¼š<a href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/toc.html">å®˜æ–¹æ–‡æ¡£</a></p>
<h4 id="æŸ¥çœ‹jvmå‚æ•°">æŸ¥çœ‹JVMå‚æ•°</h4>
<p>ä½¿ç”¨å‘½ä»¤ <code>jps -l</code> æŸ¥çœ‹æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„Javaç¨‹åºï¼ŒåŒæ—¶æ˜¾ç¤ºå¯åŠ¨ç±»ç±»åï¼Œè·å–åˆ°PID</p>
<pre tabindex="0"><code>4706 org.apache.catalina.startup.Bootstrap
5023 sun.tools.jps.Jps
</code></pre><p><code>jinfo -flags PID</code> æŸ¥çœ‹è¿è¡Œæ—¶è¿›ç¨‹å‚æ•°ä¸JVMå‚æ•°</p>
<pre tabindex="0"><code>Attaching to process ID 28987, please wait...
Debugger attached successfully.
Server compiler detected.
JVM version is 25.171-b11
Non-default VM flags: -XX:CICompilerCount=3 -XX:InitialHeapSize=132120576 -XX:MaxHeapSize=2092957696 -XX:MaxNewSize=697303040 -XX:MinHeapDeltaBytes=524288 -XX:NewSize=44040192 -XX:OldSize=88080384 -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseParallelGC
Command line:  -Dspring.config.location=application.properties -Dspring.profiles.active=staging
</code></pre><p><code>java -XX:+PrintFlagsFinal -version</code> æŸ¥çœ‹å½“å‰è™šæ‹Ÿæœºé»˜è®¤JVMå‚æ•°</p>
<h4 id="æŸ¥çœ‹å³æ—¶gcçŠ¶æ€">æŸ¥çœ‹å³æ—¶GCçŠ¶æ€</h4>
<p><code>jstat -gc PID 1000 10</code> æ¯ç§’æŸ¥çœ‹ä¸€æ¬¡gcä¿¡æ¯ï¼Œå…±10æ¬¡</p>
<p>è¾“å‡ºå‚æ•°çš„å…·ä½“å«ä¹‰å¯ä»¥å‚ç…§ï¼š<a href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html">æ–‡æ¡£</a></p>
<pre tabindex="0"><code>S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
512.0  512.0   15.3   0.0    4416.0   1055.2   11372.0     7572.5   14720.0 14322.5 1664.0 1522.8     40    0.137   8      0.039    0.176
</code></pre><p>æœŸé—´å¯èƒ½ç¢°åˆ°æç¤º<code>sun.jvm.hotspot.runtime.VMVersionMismatchException: Supported versions are 24.181-b01. Target VM is 25.171-b11</code>çš„é—®é¢˜ï¼ŒåŸå› åœ¨äºå®‰è£…äº†å¤šä¸ªç‰ˆæœ¬ï¼Œä½¿ç”¨<code>whichã€ls -l</code>å¯ç®€ä»‹å®šä½åˆ°ä¸å½“å‰æ‰§è¡ŒJavaç¨‹åºç›¸åŒçš„Javaç‰ˆæœ¬</p>
<h3 id="é”™è¯¯æ’æŸ¥">é”™è¯¯æ’æŸ¥</h3>
<h4 id="å†…å­˜é—®é¢˜">å†…å­˜é—®é¢˜</h4>
<p>å†…å­˜æ³„éœ²å¯¼è‡´OOMï¼Ÿå†…å­˜å ç”¨å¼‚å¸¸çš„é«˜ï¼Ÿè¿™æ˜¯ç”Ÿäº§ç¯å¢ƒå¸¸å¸¸å‡ºç°çš„é—®é¢˜ï¼ŒJavaæä¾›dumpæ–‡ä»¶ä¾›æˆ‘ä»¬å¯¹å†…å­˜é‡Œå‘ç”Ÿè¿‡çš„äº‹æƒ…è¿›è¡Œäº†è®°å½•ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©ä¸€äº›å·¥å…·ä»ä¸­è·å–æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚</p>
<h5 id="å¯¼å‡ºdumpæ–‡ä»¶">å¯¼å‡ºDumpæ–‡ä»¶</h5>
<ol>
<li>æå‰å¯¹Javaç¨‹åºåŠ ä¸Šè¿™äº›å‚æ•°å°dumpæ–‡ä»¶ <code>-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=./</code></li>
<li>å¯¹æ­£åœ¨è¿è¡Œçš„ç¨‹åºä½¿ç”¨<code>jmapï¼šjmap -dump:format=b,file=heap.hprof PID</code></li>
</ol>
<h5 id="åˆ†ædumpæ–‡ä»¶">åˆ†æDumpæ–‡ä»¶</h5>
<p>å¦‚æœDumpæ–‡ä»¶ä¸å¤ªå¤§çš„è¯ï¼Œå¯ä»¥ä¼ åˆ° <a href="http://heaphero.io/index.jsp">http://heaphero.io/index.jsp</a> æ¥åˆ†æ</p>
<p>æ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œä¸”æƒ³è¿›è¡Œæ›´åŠ ç³»ç»Ÿçš„åˆ†æï¼Œæ¨èä½¿ç”¨<a href="https://www.eclipse.org/mat/">MAT</a>åˆ†æï¼Œæœ‰å¦‚ä¸‹å‡ ç§å¸¸ç”¨æŸ¥çœ‹æ–¹å¼</p>
<ol>
<li>é¦–é¡µä¸­çš„ã€Leak Suspectsã€‘èƒ½æ¨æµ‹å‡ºé—®é¢˜æ‰€åœ¨</li>
<li>ç‚¹å‡»ã€Create a histogram from an arbitrary set of objectsã€‘æŸ¥åˆ°æ‰€æœ‰å¯¹è±¡çš„æ•°é‡</li>
<li>å³é”®ç‚¹å‡»æŸä¸ªå¯¹è±¡ã€Merge Shortest Paths to GC Rootsã€‘-&gt; ã€exclude all phantom/weak/soft etc. referencesã€‘èƒ½æŸ¥è¯¢åˆ°å¤§é‡æ•°é‡çš„æŸä¸ªå¯¹è±¡æ˜¯å“ªä¸ªGC ROOTå¼•ç”¨çš„</li>
</ol>
<h4 id="çº¿ç¨‹é—®é¢˜">çº¿ç¨‹é—®é¢˜</h4>
<p>ä»»åŠ¡é•¿æ—¶é—´ä¸é€€å‡ºï¼ŸCPU è´Ÿè½½è¿‡é«˜ï¼Ÿå¾ˆå¯èƒ½å› ä¸ºæ­»å¾ªç¯æˆ–è€…æ­»é”ï¼Œå¯¼è‡´æŸäº›çº¿ç¨‹ä¸€ç›´æ‰§è¡Œä¸è¢«ä¸­æ–­ï¼Œä½†æ˜¯ä¸æŠ¥é”™æ˜¯æœ€çƒ¦äººçš„ï¼Œæ‰€ä»¥æ—¥å¿—é‡Œçœ‹ä¸åˆ°é”™è¯¯ä¿¡æ¯ï¼Œå¹¶ä¸”åˆä¸èƒ½ç”¨dumpæ–‡ä»¶åˆ†æï¼Œå› ä¸ºè·Ÿå†…å­˜æ— å…³ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨çº¿ç¨‹åˆ†æå·¥å…·æ¥å¸®æˆ‘ä»¬äº†ã€‚</p>
<h5 id="å¯¼å‡ºjstackæ–‡ä»¶">å¯¼å‡ºjstackæ–‡ä»¶</h5>
<p>ä½¿ç”¨<code>jstack PID &gt; æ–‡ä»¶</code>ï¼Œå¦‚æœå¤±è´¥è¯·åŠ <code>-F</code>å‚æ•°ï¼Œå¦‚æœè¿˜å¤±è´¥è¯·ä½¿ç”¨Javaç¨‹åºå¯åŠ¨æ—¶ä½¿ç”¨çš„ç”¨æˆ·æ‰§è¡Œjstackï¼Œä¸‹é¢æ˜¯jstackçš„éƒ¨åˆ†è¾“å‡ºæ ¼å¼</p>
<pre tabindex="0"><code>  çº¿ç¨‹å                                                              PIDçš„16è¿›åˆ¶
&#34;http-nio-8080-Acceptor-0&#34; #17 daemon prio=5 os_prio=0 tid=0x00007fac2c4bd000 nid=0x29f4 runnable [0x00007fac192f6000]
   java.lang.Thread.State: RUNNABLEï¼ˆtomcatçš„å·¥ä½œçº¿ç¨‹æ­£åœ¨è¿è¡Œï¼Œæœ‰NEW/RUNNABLE/BLOCKED/WAITING/TIMED_WATING/TERMINATEDçŠ¶æ€ï¼‰
    at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)
    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:422)
    at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)
    - locked &lt;0x00000000faf845a8&gt; (a java.lang.Object)
    at org.apache.tomcat.util.net.NioEndpoint$Acceptor.run(NioEndpoint.java:682)
    at java.lang.Thread.run(Thread.java:748)
</code></pre><p>jstackçš„è¾“å‡ºå¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„çº¿ç¨‹ä»¥åŠä»–ä»¬çš„çŠ¶æ€ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹æœ‰å“ªäº›æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ï¼Œé‚£å¾ˆå¯èƒ½å°±æ˜¯é‚£ä¸ªä¸€ç›´åœ¨æ‰§è¡Œçš„çº¿ç¨‹äº†ï¼Œæ­¤æ—¶çº¿ç¨‹åå°±æ ¼å¤–é‡è¦äº†ï¼Œæ‰€ä»¥å»ºè®®åˆ›å»ºæ–°çº¿ç¨‹æ—¶æŒ‡å®šæœ‰æ„ä¹‰çš„çº¿ç¨‹åã€‚å½“ç„¶ï¼Œé€šè¿‡PIDæŸ¥æ‰¾ä¹Ÿéå¸¸æ–¹ä¾¿ã€‚</p>
<h5 id="æ’æŸ¥æ­¥éª¤">æ’æŸ¥æ­¥éª¤</h5>
<ul>
<li><code>top</code> æŸ¥çœ‹åˆ°å“ªä¸ªjavaç¨‹åºè´Ÿè½½é«˜</li>
<li><code>top -p PID -H</code> æŸ¥çœ‹è¯¥è¿›ç¨‹æ‰€æœ‰è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€</li>
<li>è®°å½•ä¸‹é«˜è´Ÿè½½çš„çº¿ç¨‹IDï¼Œ<code>printf &quot;&amp;x&quot; PID</code>è½¬æ¢æˆ16è¿›åˆ¶</li>
<li><code>jstack PID &gt; æ–‡ä»¶</code></li>
<li>åœ¨jstackæ–‡ä»¶ä¸­ç”¨è½¬æ¢æˆ16è¿›åˆ¶ä¹‹åçš„çº¿ç¨‹IDæŸ¥è¯¢çº¿ç¨‹è¿è¡Œå †æ ˆ</li>
<li>ä»å †æ ˆä¸­äº†è§£åˆ°çº¿ç¨‹åœ¨æ‰§è¡Œä»€ä¹ˆä»»åŠ¡ï¼Œå¹¶ç»“åˆä¸šåŠ¡ä¸ä»£ç åˆ¤æ–­é—®é¢˜æ‰€åœ¨</li>
</ul>
              


            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">æ ‡ç­¾</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://open-native.com/tags/java/">java</a>

                  </div>
                
              
            
            
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://open-native.com/java/bean-lifetime/" data-tooltip="Spring Bean çš„ç”Ÿå‘½å‘¨æœŸ" aria-label="ä¸‹ä¸€ç¯‡: Spring Bean çš„ç”Ÿå‘½å‘¨æœŸ">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">ä¸‹ä¸€ç¯‡</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--disabled">
          
              <span class="hide-xs hide-sm text-small icon-mr">ä¸Šä¸€ç¯‡</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="åˆ†äº«è¿™ä¸ªå¸–å­">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://open-native.com/java/java-trouble-shoot/" title="åˆ†äº«åˆ° Facebook" aria-label="åˆ†äº«åˆ° Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://open-native.com/java/java-trouble-shoot/" title="åˆ†äº«åˆ° Twitter" aria-label="åˆ†äº«åˆ° Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https://open-native.com/java/java-trouble-shoot/" title="åˆ†äº«åˆ° Linkedin" aria-label="åˆ†äº«åˆ° Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#disqus_thread" aria-label="å‘è¡¨è¯„è®º">
        <i class="far fa-comment"></i>
      </a>
    </li>
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="å›åˆ°é¡¶éƒ¨">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


            
  
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
    <script type="text/javascript">
      var disqus_config = function() {
        this.page.url = 'https:\/\/open-native.com\/java\/java-trouble-shoot\/';
        
          this.page.identifier = '\/java\/java-trouble-shoot\/'
        
      };
      (function() {
        
        
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
          document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
          return;
        }
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = 'tranquilpeak';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
  


          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2023 é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°. All Rights Reserved
  </span>
  <span id="busuanzi_container_site_pv">
    æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
  </span>
  <span id="busuanzi_container_site_uv">
    æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡
  </span>
  <span id="busuanzi_container_page_pv">
    æœ¬æ–‡è®¿é—®é‡ï¼š<span id="busuanzi_value_page_pv"></span>
  </span>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
        
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://open-native.com/java/bean-lifetime/" data-tooltip="Spring Bean çš„ç”Ÿå‘½å‘¨æœŸ" aria-label="ä¸‹ä¸€ç¯‡: Spring Bean çš„ç”Ÿå‘½å‘¨æœŸ">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">ä¸‹ä¸€ç¯‡</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--disabled">
          
              <span class="hide-xs hide-sm text-small icon-mr">ä¸Šä¸€ç¯‡</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="åˆ†äº«è¿™ä¸ªå¸–å­">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://open-native.com/java/java-trouble-shoot/" title="åˆ†äº«åˆ° Facebook" aria-label="åˆ†äº«åˆ° Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://open-native.com/java/java-trouble-shoot/" title="åˆ†äº«åˆ° Twitter" aria-label="åˆ†äº«åˆ° Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https://open-native.com/java/java-trouble-shoot/" title="åˆ†äº«åˆ° Linkedin" aria-label="åˆ†äº«åˆ° Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#disqus_thread" aria-label="å‘è¡¨è¯„è®º">
        <i class="far fa-comment"></i>
      </a>
    </li>
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="å›åˆ°é¡¶éƒ¨">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


      </div>
      
<div id="share-options-bar" class="share-options-bar" data-behavior="1">
  <i id="btn-close-shareoptions" class="fa fa-times"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fopen-native.com%2Fjava%2Fjava-trouble-shoot%2F" aria-label="åˆ†äº«åˆ° Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i><span>åˆ†äº«åˆ° Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fopen-native.com%2Fjava%2Fjava-trouble-shoot%2F" aria-label="åˆ†äº«åˆ° Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i><span>åˆ†äº«åˆ° Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fopen-native.com%2Fjava%2Fjava-trouble-shoot%2F" aria-label="åˆ†äº«åˆ° Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i><span>åˆ†äº«åˆ° Linkedin</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>


    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png" alt="ä½œè€…çš„å›¾ç‰‡" />
    
    <h4 id="about-card-name">é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°</h4>
    
      <div id="about-card-bio">ä¸€åä¸æ–­æ¢ç´¢ã€åšæŒå­¦ä¹ çš„<strong>é—²æ•£å·¥ç¨‹å¸ˆ</strong></div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        äº‘åŸç”Ÿ.ç›é…’çŒ¿
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker-alt"></i>
        <br/>
        CHINAğŸ‡¨ğŸ‡³
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('https://open-native.com/images/cover.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js" integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="https://open-native.com/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js"></script>


  
    <script async crossorigin="anonymous" defer integrity="sha512-gE8KAQyFIzV1C9+GZ8TKJHZS2s+n7EjNtC+IMRn1l5+WYJTHOODUM6JSjZhFhqXmc7bG8Av6XXpckA4tYhflnw==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/apache.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-EWROca+bote+7Oaaar1F6y74iZj1r1F9rm/ly7o+/FwJopbBaWtsFDmaKoZDd3QiGU2pGacBirHJNivmGLYrow==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/go.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-GDVzAn0wpx1yVtQsRWmFc6PhJiLBPdUic+h4GWgljBh904O3JU10fk9EKNpVyIoPqkFn54rgL2QBG4BmUTMpiQ==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/http.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-UgZlma8NzkrDb/NWgmLIcTrH7i/CSnLLDRFqCSNF5NGPpjKmzyM25qcoXGOup8+cDakKyaiTDd7N4dyH4YT+IA==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/less.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-lot9koe73sfXIrUvIPM/UEhuMciN56RPyBdOyZgfO53P2lkWyyXN7J+njcxIIBRV+nVDQeiWtiXg+bLAJZDTfg==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/nginx.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-Zd3e7XxHP00TD0Imr0PIfeM0fl0v95kMWuhyAS3Wn1UTSXTkz0OhtRgBAr4JlmADRgiXr4x7lpeUdqaGN8xIog==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/puppet.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-qtqDO052iXMSP+5d/aE/jMtL9vIIGvONgTJziC2K/ZIB1yEGa55WVxGE9/08rSQ62EoDifS9SWVGZ7ihSLhzMA==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/scss.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-1NmkjnEDnwwwcu28KoQF8vs3oaPFokQHbmbtwGhFfeDsQZtVFI8zW2aE9O8yMYdpdyKV/5blE4pSWw4Z/Sv97w==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/stylus.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-B2wSfruPjr8EJL6IIzQr1eAuDwrsfIfccNf/LCEdxELCgC/S/ZMt/Uvk80aD79m7IqOqW+Sw8nbkvha20yZpzg==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/swift.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-28oDiQZGKUVN6wQ7PSLPNipOcmkCALXKwOi7bnkyFf8QiMZQxG9EQoy/iiNx6Zxj2cG2SbVa4dXKigQhu7GiFw==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/yaml.min.js"></script>
  


<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>




    
  </body>
</html>

