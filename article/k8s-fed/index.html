<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    
    <script type="application/ld+json">

{  
  "@context":"http://schema.org",
  "@type":"Website",
  "@id":"https:\/\/open-native.com",
  "author": {
    "@type": "Person",
    "name": "é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°",
    
    "image": "https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png"
    
  },
  "name":"é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°",
  "description":"\u003cp\u003eKubernetesä»1.8ç‰ˆæœ¬èµ·å°±å£°ç§°å•é›†ç¾¤æœ€å¤šå¯æ”¯æŒ5000ä¸ªèŠ‚ç‚¹å’Œ15ä¸‡ä¸ªPodï¼Œè¿™ä¸ªè§„æ¨¡å¯¹äºè…°éƒ¨ä»¥ä¸‹å›¢é˜Ÿæ¥è®²å·²ç»è¶³å¤Ÿåº”å¯¹ä¸šåŠ¡è†¨èƒ€ã€‚ä½†æ˜¯æ€»ä¼šå‡ºäºæ··åˆäº‘ã€å¯æ‰©å±•æ€§ã€é™ä½ç½‘ç»œå»¶è¿Ÿæˆ–è€…è·¨å¯ç”¨åŒºæ•…éšœéš”ç¦»ç­‰å„ç§å„æ ·å› ç´ è€ƒé‡å»éƒ¨ç½²å¤šé›†ç¾¤ã€‚Kubernetes Cluster Federation åˆå KubeFed æˆ– Federation v2ï¼ŒFederationå°†ä½¿ç®¡ç†å¤šä¸ªé›†ç¾¤å˜å¾—ç®€å•ï¼Œæ‰“ç ´å„ä¸ªé›†ç¾¤è¾¹ç•Œï¼Œä½¿ä¹‹ä¸å†æ˜¯ä¸€ä¸ªä¸ªå­¤å²›ã€‚\u003c\/p\u003e",
  "url":"https:\/\/open-native.com\/article\/k8s-fed\/",
  "keywords":"[cloud-native, kubernetes, kubernetes Federation]"
}

</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.110.0 with theme Tranquilpeak 0.5.3-BETA">
<meta name="author" content="é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°">
<meta name="keywords" content="cloud-native, kubernetes, kubernetes Federation">
<meta name="description" content="Kubernetesä»1.8ç‰ˆæœ¬èµ·å°±å£°ç§°å•é›†ç¾¤æœ€å¤šå¯æ”¯æŒ5000ä¸ªèŠ‚ç‚¹å’Œ15ä¸‡ä¸ªPodï¼Œè¿™ä¸ªè§„æ¨¡å¯¹äºè…°éƒ¨ä»¥ä¸‹å›¢é˜Ÿæ¥è®²å·²ç»è¶³å¤Ÿåº”å¯¹ä¸šåŠ¡è†¨èƒ€ã€‚ä½†æ˜¯æ€»ä¼šå‡ºäºæ··åˆäº‘ã€å¯æ‰©å±•æ€§ã€é™ä½ç½‘ç»œå»¶è¿Ÿæˆ–è€…è·¨å¯ç”¨åŒºæ•…éšœéš”ç¦»ç­‰å„ç§å„æ ·å› ç´ è€ƒé‡å»éƒ¨ç½²å¤šé›†ç¾¤ã€‚Kubernetes Cluster Federation åˆå KubeFed æˆ– Federation v2ï¼ŒFederationå°†ä½¿ç®¡ç†å¤šä¸ªé›†ç¾¤å˜å¾—ç®€å•ï¼Œæ‰“ç ´å„ä¸ªé›†ç¾¤è¾¹ç•Œï¼Œä½¿ä¹‹ä¸å†æ˜¯ä¸€ä¸ªä¸ªå­¤å²›ã€‚">


<meta property="og:description" content="Kubernetesä»1.8ç‰ˆæœ¬èµ·å°±å£°ç§°å•é›†ç¾¤æœ€å¤šå¯æ”¯æŒ5000ä¸ªèŠ‚ç‚¹å’Œ15ä¸‡ä¸ªPodï¼Œè¿™ä¸ªè§„æ¨¡å¯¹äºè…°éƒ¨ä»¥ä¸‹å›¢é˜Ÿæ¥è®²å·²ç»è¶³å¤Ÿåº”å¯¹ä¸šåŠ¡è†¨èƒ€ã€‚ä½†æ˜¯æ€»ä¼šå‡ºäºæ··åˆäº‘ã€å¯æ‰©å±•æ€§ã€é™ä½ç½‘ç»œå»¶è¿Ÿæˆ–è€…è·¨å¯ç”¨åŒºæ•…éšœéš”ç¦»ç­‰å„ç§å„æ ·å› ç´ è€ƒé‡å»éƒ¨ç½²å¤šé›†ç¾¤ã€‚Kubernetes Cluster Federation åˆå KubeFed æˆ– Federation v2ï¼ŒFederationå°†ä½¿ç®¡ç†å¤šä¸ªé›†ç¾¤å˜å¾—ç®€å•ï¼Œæ‰“ç ´å„ä¸ªé›†ç¾¤è¾¹ç•Œï¼Œä½¿ä¹‹ä¸å†æ˜¯ä¸€ä¸ªä¸ªå­¤å²›ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="æ·±å…¥å­¦ä¹ kubernetesè”é‚¦">
<meta name="twitter:title" content="æ·±å…¥å­¦ä¹ kubernetesè”é‚¦">
<meta property="og:url" content="https://open-native.com/article/k8s-fed/">
<meta property="twitter:url" content="https://open-native.com/article/k8s-fed/">
<meta property="og:site_name" content="é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°">
<meta property="og:description" content="Kubernetesä»1.8ç‰ˆæœ¬èµ·å°±å£°ç§°å•é›†ç¾¤æœ€å¤šå¯æ”¯æŒ5000ä¸ªèŠ‚ç‚¹å’Œ15ä¸‡ä¸ªPodï¼Œè¿™ä¸ªè§„æ¨¡å¯¹äºè…°éƒ¨ä»¥ä¸‹å›¢é˜Ÿæ¥è®²å·²ç»è¶³å¤Ÿåº”å¯¹ä¸šåŠ¡è†¨èƒ€ã€‚ä½†æ˜¯æ€»ä¼šå‡ºäºæ··åˆäº‘ã€å¯æ‰©å±•æ€§ã€é™ä½ç½‘ç»œå»¶è¿Ÿæˆ–è€…è·¨å¯ç”¨åŒºæ•…éšœéš”ç¦»ç­‰å„ç§å„æ ·å› ç´ è€ƒé‡å»éƒ¨ç½²å¤šé›†ç¾¤ã€‚Kubernetes Cluster Federation åˆå KubeFed æˆ– Federation v2ï¼ŒFederationå°†ä½¿ç®¡ç†å¤šä¸ªé›†ç¾¤å˜å¾—ç®€å•ï¼Œæ‰“ç ´å„ä¸ªé›†ç¾¤è¾¹ç•Œï¼Œä½¿ä¹‹ä¸å†æ˜¯ä¸€ä¸ªä¸ªå­¤å²›ã€‚">
<meta name="twitter:description" content="Kubernetesä»1.8ç‰ˆæœ¬èµ·å°±å£°ç§°å•é›†ç¾¤æœ€å¤šå¯æ”¯æŒ5000ä¸ªèŠ‚ç‚¹å’Œ15ä¸‡ä¸ªPodï¼Œè¿™ä¸ªè§„æ¨¡å¯¹äºè…°éƒ¨ä»¥ä¸‹å›¢é˜Ÿæ¥è®²å·²ç»è¶³å¤Ÿåº”å¯¹ä¸šåŠ¡è†¨èƒ€ã€‚ä½†æ˜¯æ€»ä¼šå‡ºäºæ··åˆäº‘ã€å¯æ‰©å±•æ€§ã€é™ä½ç½‘ç»œå»¶è¿Ÿæˆ–è€…è·¨å¯ç”¨åŒºæ•…éšœéš”ç¦»ç­‰å„ç§å„æ ·å› ç´ è€ƒé‡å»éƒ¨ç½²å¤šé›†ç¾¤ã€‚Kubernetes Cluster Federation åˆå KubeFed æˆ– Federation v2ï¼ŒFederationå°†ä½¿ç®¡ç†å¤šä¸ªé›†ç¾¤å˜å¾—ç®€å•ï¼Œæ‰“ç ´å„ä¸ªé›†ç¾¤è¾¹ç•Œï¼Œä½¿ä¹‹ä¸å†æ˜¯ä¸€ä¸ªä¸ªå­¤å²›ã€‚">
<meta property="og:locale" content="zh-cn">

  
    <meta property="article:published_time" content="2023-02-08T23:14:58">
  
  
    <meta property="article:modified_time" content="2023-02-08T23:14:58">
  
  
  
    
      <meta property="article:section" content="kubernetes">
    
  
  
    
      <meta property="article:tag" content="cloud-native">
    
      <meta property="article:tag" content="kubernetes">
    
      <meta property="article:tag" content="kubernetes Federation">
    
  


<meta name="twitter:card" content="summary">







  <meta property="og:image" content="https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png">
  <meta property="twitter:image" content="https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png">






    <title>æ·±å…¥å­¦ä¹ kubernetesè”é‚¦</title>

    <link rel="icon" href="https://open-native.com/images/favicon.png">
    

    

    <link rel="canonical" href="https://open-native.com/article/k8s-fed/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    
    <link rel="stylesheet" href="https://open-native.com/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://open-native.com/" aria-label="å»é¦–é¡µ">é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://open-native.com/#about" aria-label="æ‰“å¼€é“¾æ¥: /#about">
    
    
    
      
        <img class="header-picture" src="https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png" alt="ä½œè€…çš„å›¾ç‰‡" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://open-native.com/#about" aria-label="é˜…è¯»æœ‰å…³ä½œè€…çš„æ›´å¤šä¿¡æ¯">
          <img class="sidebar-profile-picture" src="https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png" alt="ä½œè€…çš„å›¾ç‰‡" />
        </a>
        <h4 class="sidebar-profile-name">é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°</h4>
        
          <h5 class="sidebar-profile-bio">ä¸€åä¸æ–­æ¢ç´¢ã€åšæŒå­¦ä¹ çš„<strong>é—²æ•£å·¥ç¨‹å¸ˆ</strong></h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/" title="Home">
    
      <i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">é¦–é¡µ</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/java" title="Java">
    
      <i class="sidebar-button-icon fas fa-lg fa-info" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Java</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/categories" title="Categories">
    
      <i class="sidebar-button-icon fas fa-lg fa-bookmark" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">åˆ†ç±»</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/tags" title="Tags">
    
      <i class="sidebar-button-icon fas fa-lg fa-tags" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">æ ‡ç­¾</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/archives" title="Archives">
    
      <i class="sidebar-button-icon fas fa-lg fa-archive" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">å½’æ¡£</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/#about" title="About">
    
      <i class="sidebar-button-icon fas fa-lg fa-question" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">å…³äº</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/RcXu" target="_blank" rel="noopener" title="GitHub">
    
      <i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/21171872/black-mr" target="_blank" rel="noopener" title="Stack Overflow">
    
      <i class="sidebar-button-icon fab fa-lg fa-stack-overflow" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://open-native.com/index.xml" title="RSS">
    
      <i class="sidebar-button-icon fas fa-lg fa-rss" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" id="top">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title">
      æ·±å…¥å­¦ä¹ kubernetesè”é‚¦
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2023-02-08T23:14:58&#43;08:00">
        
  äºŒæœˆ 8, 2023

      </time>
    
    
  
  
    <span>å‘å¸ƒåœ¨</span>
    
      <a class="category-link" href="https://open-native.com/categories/kubernetes">kubernetes</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              <p>Kubernetesä»1.8ç‰ˆæœ¬èµ·å°±å£°ç§°å•é›†ç¾¤æœ€å¤šå¯æ”¯æŒ5000ä¸ªèŠ‚ç‚¹å’Œ15ä¸‡ä¸ªPodï¼Œè¿™ä¸ªè§„æ¨¡å¯¹äºè…°éƒ¨ä»¥ä¸‹å›¢é˜Ÿæ¥è®²å·²ç»è¶³å¤Ÿåº”å¯¹ä¸šåŠ¡è†¨èƒ€ã€‚ä½†æ˜¯æ€»ä¼šå‡ºäºæ··åˆäº‘ã€å¯æ‰©å±•æ€§ã€é™ä½ç½‘ç»œå»¶è¿Ÿæˆ–è€…è·¨å¯ç”¨åŒºæ•…éšœéš”ç¦»ç­‰å„ç§å„æ ·å› ç´ è€ƒé‡å»éƒ¨ç½²å¤šé›†ç¾¤ã€‚Kubernetes Cluster Federation åˆå KubeFed æˆ– Federation v2ï¼ŒFederationå°†ä½¿ç®¡ç†å¤šä¸ªé›†ç¾¤å˜å¾—ç®€å•ï¼Œæ‰“ç ´å„ä¸ªé›†ç¾¤è¾¹ç•Œï¼Œä½¿ä¹‹ä¸å†æ˜¯ä¸€ä¸ªä¸ªå­¤å²›ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆè¦kubernetesè”é‚¦">ä¸ºä»€ä¹ˆè¦kubernetesè”é‚¦?</h2>
<p>Federationçš„ä¸»è¦ç›®æ ‡ä¹‹ä¸€æ˜¯èƒ½å¤Ÿå®šä¹‰APIå’ŒAPIç»„ï¼ˆå³ &ldquo;ä¸€ç§å°†<strong>è§„èŒƒçš„</strong> Kubernetes API èµ„æºåˆ†é…åˆ°ä¸åŒé›†ç¾¤çš„æœºåˆ¶&rdquo;ï¼‰ï¼Œå…¶ä¸­åŒ…å«è”é‚¦ä»»ä½•ç»™å®šKubernetesèµ„æºæ‰€éœ€çš„åŸºæœ¬åŸåˆ™ã€‚å®ç°å•ä¸€é›†ç¾¤ç»Ÿä¸€ç®¡ç†å¤šä¸ªkubernetesé›†ç¾¤çš„æœºåˆ¶ã€‚è¿™äº›é›†ç¾¤å¯ä»¥æ˜¯è·¨åœ°åŸŸçš„ï¼Œè·¨äº‘å‚å•†çš„æˆ–è€…æ˜¯ç”¨æˆ·å†…éƒ¨è‡ªå»ºé›†ç¾¤ã€‚Federated Service çš„æ ¸å¿ƒæ˜¯åŒ…å«ä¸€ä¸ª Templateï¼ˆKubernetesæœåŠ¡çš„å®šä¹‰ï¼‰ã€ä¸€ä¸ª Placementï¼ˆéƒ¨ç½²åˆ°å“ªä¸ªé›†ç¾¤ï¼‰ã€ä¸€ä¸ª Overrideï¼ˆåœ¨ç‰¹å®šé›†ç¾¤ä¸­çš„å¯é€‰å˜åŒ–ï¼‰å’Œä¸€ä¸ª ServiceDNSRecordï¼ˆæŒ‡å®šå¦‚ä½•å‘ç°å®ƒçš„ç»†èŠ‚ï¼‰ã€‚
æ³¨æ„ï¼šè”é‚¦æœåŠ¡å¿…é¡»æ˜¯ <strong>LoadBalancer</strong> ç±»å‹ï¼Œä»¥ä¾¿å®ƒå¯ä»¥è·¨é›†ç¾¤å‘ç°ã€‚</p>
<p>Federationä¸»è¦è§£å†³ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>è·¨é›†ç¾¤åŒæ­¥èµ„æºï¼šFederation æä¾›äº†åœ¨å¤šä¸ªé›†ç¾¤ä¸­ä¿æŒèµ„æºåŒæ­¥çš„èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä¿è¯åŒä¸€ä¸ª deployment åœ¨å¤šä¸ªé›†ç¾¤ä¸­å­˜åœ¨ã€‚</li>
<li>è·¨é›†ç¾¤æœåŠ¡å‘ç°ï¼šFederationæä¾›äº†è‡ªåŠ¨é…ç½®DNSæœåŠ¡ä»¥åŠåœ¨æ‰€æœ‰é›†ç¾¤åç«¯ä¸Šè¿›è¡Œè´Ÿè½½å‡è¡¡çš„èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥æä¾›ä¸€ä¸ªå…¨å±€ VIP æˆ–è€… DNS è®°å½•ï¼Œé€šè¿‡å®ƒå¯ä»¥è®¿é—®å¤šä¸ªé›†ç¾¤åç«¯ã€‚</li>
<li>è·¨é›†ç¾¤è°ƒåº¦ï¼šä¿è¯æœåŠ¡çš„ç¨³å®šæ€§ä»¥åŠå¯ç”¨æ€§ã€‚</li>
</ul>
<h2 id="é›†ç¾¤è”é‚¦æ¶æ„">é›†ç¾¤è”é‚¦æ¶æ„</h2>
<p>é›†ç¾¤è”é‚¦éœ€è¦æˆ‘ä»¬æŠŠèµ„æºä»ç®¡ç†é›†ç¾¤åŒæ­¥èµ„æºåˆ°è”é‚¦é›†ç¾¤ï¼Œä¼ æ’­ï¼ˆPropagationï¼‰æ˜¯è¯¥é¡¹ç›®å¼•å…¥çš„ä¸€ä¸ªæœ¯è¯­ï¼Œå®ƒä¼šå°†å®¿ä¸»é›†ç¾¤ä¸­çš„èµ„æºåˆ†é…åˆ°æ‰€æœ‰çš„è”é‚¦é›†ç¾¤ä¸­ã€‚é…ç½®è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://open-native.obs.cn-north-4.myhuaweicloud.com/federation-concepts.png" alt="image.png">
ä¸Šå›¾ä¸­å±•ç¤ºäº†é…ç½®é›†ç¾¤è”é‚¦çš„è¿‡ç¨‹ï¼š</p>
<ul>
<li>é…ç½®éœ€è¦è”é‚¦çš„é›†ç¾¤</li>
<li>é…ç½®éœ€è¦åœ¨é›†ç¾¤ä¸­ä¼ æ’­çš„ API èµ„æº</li>
<li>é…ç½® API èµ„æºå¦‚ä½•åˆ†é…åˆ°ä¸åŒçš„é›†ç¾¤</li>
<li>å¯¹é›†ç¾¤ä¸­ DNS è®°å½•æ³¨å†Œ</li>
</ul>
<p>è¿™ä¸ªæœºåˆ¶ä¼šéœ€è¦å¼•å…¥ä»¥ä¸‹ä¸‰ä¸ªæ¦‚å¿µï¼šTemplateã€Placement å’Œ Overridesï¼š</p>
<ul>
<li>Templateï¼šå®šä¹‰äº†è¯¥èµ„æºçš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œä»¥ Deployment ä¸ºä¾‹ï¼Œå¯èƒ½åŒ…å«éƒ¨ç½²çš„å®¹å™¨é•œåƒã€ç¯å¢ƒå˜é‡ä»¥åŠå®ä¾‹æ•°ç­‰ä¿¡æ¯ã€‚</li>
<li>Placementï¼šå†³å®šè¯¥èµ„æºéœ€è¦éƒ¨ç½²åœ¨å“ªäº›é›†ç¾¤ä¸­ã€‚</li>
<li>è¦†å†™åŸæœ‰ Template ä¸­çš„èµ„æºï¼Œä»¥æ»¡è¶³å½“å‰é›†ç¾¤çš„ä¸€äº›ç‰¹å®šéœ€æ±‚ï¼Œä¾‹å¦‚å®ä¾‹æ•°ã€æ‹‰é•œåƒä½¿ç”¨çš„ç§˜é’¥ç­‰ä¸é›†ç¾¤æœ‰å…³çš„å±æ€§ã€‚</li>
</ul>
<p>åœ¨å…·ä½“çš„å®ç°ä¸Šï¼Œkubefed é€‰æ‹©ä¸ºé›†ç¾¤ä¸­çš„æ‰€æœ‰èµ„æºç”Ÿæˆå¯¹åº”çš„è”é‚¦èµ„æºï¼Œä¾‹å¦‚ Deployment å’Œå¯¹åº”çš„ FederatedDeploymentã€‚è”é‚¦èµ„æºä¸­çš„ spec å­—æ®µå­˜å‚¨äº† Deployment èµ„æºçš„æ¨¡æ¿ï¼Œè€Œ overrides ä¸­å®šä¹‰äº†èµ„æºåŒæ­¥åˆ°ä¸åŒé›†ç¾¤æ—¶éœ€è¦åšçš„å˜æ›´ã€‚</p>
<pre tabindex="0"><code>kind: FederatedDeployment
...
spec:
  ...
  overrides:
  # Apply overrides to cluster1
    - clusterName: cluster1
      clusterOverrides:
        # Set the replicas field to 5
        - path: &#34;/spec/replicas&#34;
          value: 5
        # Set the image of the first container
        - path: &#34;/spec/template/spec/containers/0/image&#34;
          value: &#34;nginx:1.17.0-alpine&#34;
        # Ensure the annotation &#34;foo: bar&#34; exists
        - path: &#34;/metadata/annotations&#34;
          op: &#34;add&#34;
          value:
            foo: bar
        # Ensure an annotation with key &#34;foo&#34; does not exist
        - path: &#34;/metadata/annotations/foo&#34;
          op: &#34;remove&#34;
        # Adds an argument `-q` at index 0 of the args list
        # this will obviously shift the existing arguments, if any
        - path: &#34;/spec/template/spec/containers/0/args/0&#34;
          op: &#34;add&#34;
          value: &#34;-q&#34;
</code></pre><h3 id="cluster-configuration">Cluster Configuration</h3>
<p>é€šè¿‡ kubefedctl join/unjoin æ¥åŠ å…¥/åˆ é™¤é›†ç¾¤ï¼Œå½“æˆåŠŸåŠ å…¥æ—¶ï¼Œä¼šå»ºç«‹ä¸€ä¸ª KubeFedCluster ç»„ä»¶æ¥å‚¨å­˜é›†ç¾¤ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ API Endpointã€CA Bundle ç­‰ã€‚è¿™äº›ä¿¡æ¯ä¼šè¢«ç”¨åœ¨ KubeFed Controller å­˜å–ä¸åŒ Kubernetes é›†ç¾¤ä¸Šï¼Œä»¥ç¡®ä¿èƒ½å¤Ÿå»ºç«‹ Kubernetes API èµ„æºã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://open-native.obs.cn-north-4.myhuaweicloud.com/sync-controller.png" alt="image">
åœ¨ Federation ä¸­æœ‰ä¸¤ç§ç±»å‹é›†ç¾¤ï¼š</p>
<ul>
<li>Host : ç”¨äºæä¾› KubeFed API ä¸æ§åˆ¶å¹³é¢çš„é›†ç¾¤ã€‚</li>
<li>Member : é€šè¿‡ KubeFed API æ³¨å†Œçš„é›†ç¾¤ï¼Œå¹¶æä¾›ç›¸å…³èº«ä»½å‡­è¯æ¥è®© KubeFed Controller èƒ½å¤Ÿå­˜å–é›†ç¾¤ã€‚Host é›†ç¾¤ä¹Ÿå¯ä»¥ä½œä¸º Member è¢«åŠ å…¥ã€‚</li>
</ul>
<h2 id="è”é‚¦æœåŠ¡ä¸è·¨é›†ç¾¤æœåŠ¡å‘ç°">è”é‚¦æœåŠ¡ä¸è·¨é›†ç¾¤æœåŠ¡å‘ç°</h2>
<h3 id="pod-å¦‚ä½•å‘ç°è”é‚¦æœåŠ¡">Pod å¦‚ä½•å‘ç°è”é‚¦æœåŠ¡</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒKubernetesé›†ç¾¤é¢„å…ˆé…ç½®äº†é›†ç¾¤æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œä»¥åŠæ™ºèƒ½æ„å»ºçš„DNSæœç´¢è·¯å¾„ï¼Œå®ƒä»¬å…±åŒç¡®ä¿äº†ç”±podå†…éƒ¨è¿è¡Œçš„è½¯ä»¶å‘å‡ºçš„ myserviceã€myservice.mynamespaceæˆ– some-other-service.other-namespace ç­‰ DNS æŸ¥è¯¢ä¼šè‡ªåŠ¨æ‰©å±•å¹¶æ­£ç¡®è§£æåˆ°æœ¬åœ°é›†ç¾¤ä¸­è¿è¡Œçš„æœåŠ¡çš„ç›¸åº” IPã€‚</p>
<p>éšç€è”é‚¦æœåŠ¡å’Œè·¨é›†ç¾¤æœåŠ¡å‘ç°çš„å¼•å…¥ï¼Œè¿™ä¸ªæ¦‚å¿µè¢«æ‰©å±•åˆ°å…¨å±€è¦†ç›–åœ¨ä½ çš„é›†ç¾¤è”é‚¦ä¸­æ‰€æœ‰é›†ç¾¤ä¸­è¿è¡Œçš„KubernetesæœåŠ¡ã€‚ä¸ºäº†åˆ©ç”¨è¿™ä¸ªæ‰©å±•çš„èŒƒå›´ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªç¨å¾®ä¸åŒçš„DNSåç§°ï¼ˆä¾‹å¦‚myservice.mynamespace.myfederationï¼‰æ¥è§£æè”é‚¦æœåŠ¡ã€‚ä½¿ç”¨ä¸åŒçš„ DNSåç§°è¿˜å¯ä»¥é¿å…ç°æœ‰çš„åº”ç”¨æ„å¤–åœ°ç©¿è¶ŠåŒºåŸŸç½‘ç»œè€Œä¼šäº§ç”Ÿä¸å¿…è¦çš„ç½‘ç»œå»¶è¿Ÿã€‚</p>
<p>ä¾‹å¦‚ä½¿ç”¨ä¸€ä¸ªåä¸º nginx çš„æœåŠ¡ã€‚</p>
<p>åœ¨ us-central1-a å¯ç”¨åŒºçš„é›†ç¾¤ä¸­çš„ä¸€ä¸ª pod éœ€è¦è”ç³»æˆ‘ä»¬çš„ nginx æœåŠ¡ã€‚å®ƒç°åœ¨å¯ä»¥ä½¿ç”¨æœåŠ¡çš„è”é‚¦ DNS åï¼Œå³ nginx.mynamespace.myfederation ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æœåŠ¡çš„ä¼ ç»Ÿé›†ç¾¤æœ¬åœ° DNS åï¼ˆå³ nginx.mynamespace è‡ªåŠ¨æ‰©å±•ä¸º nginx.mynamespace.svc.cluster.localï¼‰ã€‚è¿™å°†è¢«è‡ªåŠ¨æ‰©å±•å¹¶è§£æåˆ°ç¦»æˆ‘çš„ nginx æœåŠ¡æœ€è¿‘çš„å¥åº· shardã€‚å¦‚æœæœ¬åœ°é›†ç¾¤ä¸­å­˜åœ¨ä¸€ä¸ªå¥åº·çš„ shardï¼Œé‚£ä¹ˆè¯¥æœåŠ¡çš„é›†ç¾¤æœ¬åœ° IP åœ°å€å°†è¢«è¿”å›ï¼ˆé€šè¿‡é›†ç¾¤æœ¬åœ° DNSï¼‰ã€‚è¿™å®Œå…¨ç­‰åŒäºéè”é‚¦æœåŠ¡è§£æã€‚</p>
<p>å¦‚æœæœåŠ¡åœ¨æœ¬åœ°é›†ç¾¤ä¸­ä¸å­˜åœ¨ï¼ˆæˆ–è€…å­˜åœ¨ä½†æ²¡æœ‰å¥åº·çš„åç«¯ podï¼‰ï¼ŒDNS æŸ¥è¯¢ä¼šè‡ªåŠ¨æ‰©å±•åˆ° nginx.mynamespace.myfederation.svc.us-central1-a.example.comã€‚åœ¨å¹•åï¼Œè¿™å¯ä»¥æ‰¾åˆ°ç¦»æˆ‘ä»¬çš„å¯ç”¨åŒºæœ€è¿‘çš„ä¸€ä¸ª shard çš„å¤–éƒ¨ IPã€‚è¿™ä¸ªæ‰©å±•æ˜¯ç”±é›†ç¾¤æœ¬åœ° DNS æœåŠ¡å™¨è‡ªåŠ¨æ‰§è¡Œçš„ï¼Œå®ƒè¿”å›ç›¸å…³çš„ CNAME è®°å½•ã€‚è¿™å°±å¯¼è‡´äº†å¯¹ DNS è®°å½•çš„å±‚æ¬¡ç»“æ„çš„éå†ï¼Œå¹¶æœ€ç»ˆæ‰¾åˆ°é™„è¿‘è”é‚¦æœåŠ¡çš„ä¸€ä¸ªå¤–éƒ¨ IPã€‚</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡æ˜ç¡®æŒ‡å®šé€‚å½“çš„ DNS åç§°ï¼Œè€Œä¸æ˜¯ä¾èµ–è‡ªåŠ¨çš„DNSæ‰©å±•ï¼Œå°†ç›®æ ‡é”å®šåœ¨ pod æœ¬åœ°ä»¥å¤–çš„å¯ç”¨æ€§åŒºåŸŸå’Œåœ°åŒºçš„æœåŠ¡ shardã€‚ä¾‹å¦‚ï¼Œnginx.mynamespace.myfederation.svc.europe-west1.example.com å°†è§£æåˆ°æ¬§æ´²æ‰€æœ‰å½“å‰å¥åº·çš„æœåŠ¡ shardï¼Œå³ä½¿å‘å¸ƒæŸ¥è¯¢çš„ pod ä½äºç¾å›½ï¼Œä¹Ÿä¸ç®¡ç¾å›½æ˜¯å¦æœ‰å¥åº·çš„æœåŠ¡ shardï¼Œè¿™å¯¹è¿œç¨‹ç›‘æ§å’Œå…¶ä»–ç±»ä¼¼çš„åº”ç”¨å¾ˆæœ‰ç”¨ã€‚</p>
<h3 id="ä»è”é‚¦é›†ç¾¤ä¹‹å¤–çš„å…¶ä»–å®¢æˆ·ç«¯å‘ç°è”é‚¦æœåŠ¡">ä»è”é‚¦é›†ç¾¤ä¹‹å¤–çš„å…¶ä»–å®¢æˆ·ç«¯å‘ç°è”é‚¦æœåŠ¡</h3>
<p>å¯¹äºå¤–éƒ¨å®¢æˆ·ç«¯ï¼Œç›®å‰è¿˜ä¸èƒ½å®ç°æ‰€è¿°è‡ªåŠ¨ DNS æ‰©å±•ã€‚å¤–éƒ¨å®¢æˆ·éœ€è¦æŒ‡å®šè”é‚¦æœåŠ¡çš„ä¸€ä¸ªå®Œå…¨é™å®šçš„ DNS åç§°ï¼Œæ— è®ºæ˜¯åŒºåŸŸã€å¯ç”¨åŒºè¿˜æ˜¯å…¨å±€åç§°ã€‚</p>
<h3 id="type-configuration">Type Configuration</h3>
<p>å®šä¹‰äº†å“ªäº› Kubernetes API èµ„æºè¦è¢«ç”¨äºè”é‚¦ç®¡ç†ã€‚æ¯”å¦‚è¯´æƒ³å°† ConfigMap èµ„æºé€šè¿‡è”é‚¦æœºåˆ¶å»ºç«‹åœ¨ä¸åŒé›†ç¾¤ä¸Šæ—¶ï¼Œå°±å¿…é¡»å…ˆåœ¨ Federation Host é›†ç¾¤ä¸­ï¼Œé€šè¿‡ CRD å»ºç«‹æ–°èµ„æº FederatedConfigMapï¼Œæ¥ç€å†å»ºç«‹åç§°ä¸º configmaps çš„ Type configurationï¼ˆFederatedTypeConfigï¼‰èµ„æºï¼Œç„¶åæè¿° ConfigMap è¦è¢« FederatedConfigMap æ‰€ç®¡ç†ï¼Œè¿™æ · KubeFed Controllers æ‰èƒ½çŸ¥é“å¦‚ä½•å»ºç«‹ Federated èµ„æºã€‚</p>
<p>ä¸€ä¸ª Federatedèµ„æºä¸€èˆ¬éƒ½ä¼šå…·å¤‡ä¸‰ä¸ªä¸»è¦åŠŸèƒ½ï¼Œè¿™äº›ä¿¡æ¯èƒ½å¤Ÿåœ¨specä¸­ç”±ä½¿ç”¨è€…è‡ªè¡Œå®šä¹‰ï¼Œå¦‚ä¸‹èŒƒä¾‹ï¼š</p>
<pre tabindex="0"><code>apiVersion: types.kubefed.k8s.io/v1beta1
kind: FederatedDeployment
metadata:
  name: test-deployment
  namespace: test-namespace
spec:
  template: 
    metadata:
      labels:
        app: nginx
    spec:
      ...
  placement:
    clusters:
    - name: cluster2
    - name: cluster1
  overrides: 
  - clusterName: cluster2
    clusterOverrides:
    - path: spec.replicas
      value: 5
</code></pre><ul>
<li>Placementï¼šå®šä¹‰ Federated èµ„æºè¦åˆ†æ•£åˆ°å“ªäº›é›†ç¾¤ä¸Šï¼Œè‹¥æ²¡æœ‰è¯¥æ–‡ä»¶ï¼Œåˆ™ä¸ä¼šåˆ†æ•£åˆ°ä»»ä½•é›†ç¾¤ä¸­ã€‚å¦‚ FederatedDeployment ä¸­çš„ spec.placement å®šä¹‰äº†ä¸¤ä¸ªé›†ç¾¤æ—¶ï¼Œè¿™äº›é›†ç¾¤å°†è¢«åŒæ­¥å»ºç«‹ç›¸åŒçš„ Deploymentã€‚å¦å¤–ä¹Ÿæ”¯æŒç”¨ spec.placement.clusterSelector çš„æ–¹å¼æ¥é€‰æ‹©è¦æ”¾ç½®çš„é›†ç¾¤ã€‚</li>
<li>Overrideï¼šå®šä¹‰ä¿®æ”¹æŒ‡å®šé›†ç¾¤çš„ Federated èµ„æºä¸­çš„ spec.template å†…å®¹ã€‚å¦‚éƒ¨ç½² FederatedDeployment åˆ°ä¸åŒå…¬æœ‰äº‘ä¸Šçš„é›†ç¾¤æ—¶ï¼Œå°±èƒ½é€šè¿‡ spec.overrides æ¥è°ƒæ•´ Volume æˆ–å‰¯æœ¬æ•°ã€‚</li>
</ul>
<h3 id="è·¨é›†ç¾¤è°ƒåº¦">è·¨é›†ç¾¤è°ƒåº¦</h3>
<p>KubeFed æä¾›äº†ä¸€ç§è‡ªåŠ¨åŒ–æœºåˆ¶æ¥å°†å·¥ä½œè´Ÿè½½å®ä¾‹åˆ†æ•£åˆ°ä¸åŒçš„é›†ç¾¤ä¸­ï¼Œè¿™èƒ½å¤ŸåŸºäºæ€»å‰¯æœ¬æ•°ä¸é›†ç¾¤çš„å®šä¹‰ç­–ç•¥æ¥å°† Deployment æˆ– ReplicaSetèµ„æºè¿›è¡Œç¼–æ’ã€‚ç¼–æ’ç­–ç•¥æ˜¯é€šè¿‡å»ºç«‹ ReplicaSchedulingPreferenceï¼ˆRSPï¼‰æ–‡ä»¶ï¼Œå†ç”± KubeFed RSP Controller ç›‘å¬ä¸æ’·å–RSPå†…å®¹æ¥å°†å·¥ä½œè´Ÿè½½å®ä¾‹å»ºç«‹åˆ°æŒ‡å®šçš„é›†ç¾¤ä¸Šã€‚è¿™æ˜¯åŸºäºç”¨æˆ·ç»™å‡ºçš„é«˜çº§ç”¨æˆ·åå¥½ã€‚è¿™äº›åå¥½åŒ…æ‹¬åŠ æƒåˆ†å¸ƒçš„è¯­ä¹‰å’Œåˆ†å¸ƒå‰¯æœ¬çš„é™åˆ¶ï¼ˆæœ€å°å’Œæœ€å¤§ï¼‰ã€‚è¿™äº›è¿˜åŒ…æ‹¬å…è®¸åŠ¨æ€é‡æ–°åˆ†é…å‰¯æœ¬çš„è¯­ä¹‰ï¼Œä»¥é˜²æŸäº›å‰¯æœ¬ Pod ä»ç„¶æ²¡æœ‰è¢«è°ƒåº¦åˆ°æŸäº›é›†ç¾¤ä¸Šï¼Œä¾‹å¦‚ç”±äºè¯¥é›†ç¾¤èµ„æºä¸è¶³ã€‚</p>
<p>ä»¥ä¸‹ä¸ºä¸€ä¸ªRSPèŒƒä¾‹ï¼Œå‡è®¾æœ‰ä¸‰ä¸ªé›†ç¾¤è¢«è”é‚¦ï¼Œåç§°åˆ†åˆ«ä¸º ap-northeastã€us-east ä¸ us-westã€‚</p>
<pre tabindex="0"><code>apiVersion: scheduling.kubefed.k8s.io/v1alpha1
kind: ReplicaSchedulingPreference
metadata:
  name: test-deployment
  namespace: test-ns
spec:
  targetKind: FederatedDeployment
  totalReplicas: 15 
  clusters: 
    &#34;*&#34;:
      weight: 2
      maxReplicas: 12
    ap-northeast:
      minReplicas: 1
      maxReplicas: 3
      weight: 1
</code></pre><p>æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹ï¼š
<img src="https://open-native.obs.cn-north-4.myhuaweicloud.com/kubefed-rsp.png" alt="image.png"></p>
<h3 id="è·¨é›†ç¾¤æœåŠ¡å‘ç°multi-cluster-dns">è·¨é›†ç¾¤æœåŠ¡å‘ç°ï¼ˆMulti-cluster DNSï¼‰</h3>
<p>KubeFed æä¾›äº†ä¸€ç»„ API èµ„æºï¼Œä»¥åŠ Controllers æ¥å®ç°è·¨é›†ç¾¤Service/Ingress çš„ DNS recordsè‡ªåŠ¨äº§ç”Ÿæœºåˆ¶ï¼Œå¹¶ç»“åˆExternalDNS æ¥åŒæ­¥æ›´æ–°è‡³ DNS æœåŠ¡ä¾›åº”å•†ã€‚</p>
<pre tabindex="0"><code>apiVersion: multiclusterdns.kubefed.k8s.io/v1alpha1
kind: Domain
metadata:
  name: test
  namespace: kube-federation-system
domain: k8s.example.com
---
apiVersion: multiclusterdns.kubefed.k8s.io/v1alpha1
kind: ServiceDNSRecord
metadata:
  name: nginx
  namespace: development
spec:
  domainRef: test
  recordTTL: 300
</code></pre><p>é¦–å…ˆå‡è®¾å·²å»ºç«‹ä¸€ä¸ªåç§°ä¸º nginx çš„ FederatedDeploymentï¼Œç„¶åæ”¾åˆ° development namespace ä¸­ï¼Œå¹¶ä¸”ä¹Ÿå»ºç«‹äº†å¯¹åº”çš„ FederatedService æä¾› LoadBalancerã€‚è¿™æ—¶å½“å»ºç«‹ä¸Šè¿° Domain ä¸ ServiceDNSRecord åï¼ŒKubeFed çš„ Service DNS Controller ä¼šä¾æ® ServiceDNSRecord æ–‡ä»¶å†…å®¹ï¼Œå»æ”¶é›†ä¸åŒé›†ç¾¤çš„ Service ä¿¡æ¯ï¼Œå¹¶å°†è¿™äº›ä¿¡æ¯æ›´æ–°è‡³ ServiceDNSRecord çŠ¶æ€ä¸­ï¼Œæ¥ç€ DNS Endpoint Controller ä¼šä¾æ®è¯¥ ServiceDNSRecord çš„çŠ¶æ€å†…å®¹ï¼Œå»ºç«‹ä¸€ä¸ª DNSEndpoint æ–‡ä»¶ï¼Œå¹¶äº§ç”Ÿ DNS records èµ„æºï¼Œæœ€åå†ç”± ExternalDNS æ¥åŒæ­¥æ›´æ–° DNS records è‡³ DNS ä¾›åº”å•†ã€‚ä¸‹å›¾æ˜¯ Service DNS å»ºç«‹çš„æ¶æ„ã€‚
<img src="https://open-native.obs.cn-north-4.myhuaweicloud.com/kubefed-service-dns.jpg" alt="image.png">
è‹¥æ˜¯ Ingress çš„è¯ï¼Œä¼šç”± IngressDNSRecord æ–‡ä»¶å–ä»£ï¼Œå¹¶ç”± Ingress DNS Controller æ”¶é›†ä¿¡æ¯ã€‚</p>
<h2 id="federationæœ¬èº«å½“ç„¶ä¹Ÿæœ‰ä»–çš„ç¼ºç‚¹">Federationæœ¬èº«å½“ç„¶ä¹Ÿæœ‰ä»–çš„ç¼ºç‚¹ï¼š</h2>
<ul>
<li>å¢åŠ ç½‘ç»œå¸¦å®½å’Œæˆæœ¬ï¼šfederation æ§åˆ¶å¹³é¢ç›‘æ§æ‰€æœ‰é›†ç¾¤ä»¥ç¡®ä¿å½“å‰çŠ¶æ€ç¬¦åˆé¢„æœŸã€‚å¦‚æœé›†ç¾¤åœ¨äº‘æœåŠ¡æä¾›å•†çš„ä¸åŒåŒºåŸŸæˆ–è€…ä¸åŒçš„äº‘æœåŠ¡æä¾›å•†ä¸Šè¿è¡Œæ—¶ï¼Œè¿™å°†å¯¼è‡´æ˜æ˜¾çš„ç½‘ç»œæˆæœ¬å¢åŠ ã€‚</li>
<li>å‡å°‘è·¨é›†ç¾¤éš”ç¦»ï¼šfederation æ§åˆ¶å¹³é¢ä¸­çš„æ•…éšœå¯èƒ½å½±å“æ‰€æœ‰é›†ç¾¤ã€‚é€šè¿‡åœ¨federationä¸­å®ç°æœ€å°‘çš„é€»è¾‘å¯ä»¥ç¼“è§£è¿™ç§æƒ…å†µã€‚åªè¦æœ‰å¯èƒ½ï¼Œå®ƒå°±å°†å°½åŠ›æŠŠå·¥ä½œå§”æ‰˜ç»™ kubernetesé›†ç¾¤ä¸­çš„æ§åˆ¶å¹³é¢ã€‚è¿™ç§è®¾è®¡å’Œå®ç°åœ¨å®‰å…¨æ€§åŠé¿å…å¤šé›†ç¾¤åœæ­¢è¿è¡Œä¸Šä¹Ÿæ˜¯é”™è¯¯çš„ã€‚</li>
</ul>
              


            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">æ ‡ç­¾</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://open-native.com/tags/cloud-native/">cloud-native</a>

  <a class="tag tag--primary tag--small" href="https://open-native.com/tags/kubernetes/">kubernetes</a>

  <a class="tag tag--primary tag--small" href="https://open-native.com/tags/kubernetes-federation/">kubernetes Federation</a>

                  </div>
                
              
            
            
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://open-native.com/article/k8s-injection/" data-tooltip="æ·±å…¥ç†è§£Sidecar Injection" aria-label="ä¸‹ä¸€ç¯‡: æ·±å…¥ç†è§£Sidecar Injection">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">ä¸‹ä¸€ç¯‡</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://open-native.com/article/dapr-intro/" data-tooltip="DapråŠ©åŠ›å¼‚æ„è¯­è¨€ç³»ç»Ÿçš„äº‹ä»¶é©±åŠ¨æ¶æ„è®¾è®¡" aria-label="ä¸Šä¸€ç¯‡: DapråŠ©åŠ›å¼‚æ„è¯­è¨€ç³»ç»Ÿçš„äº‹ä»¶é©±åŠ¨æ¶æ„è®¾è®¡">
          
              <span class="hide-xs hide-sm text-small icon-mr">ä¸Šä¸€ç¯‡</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="åˆ†äº«è¿™ä¸ªå¸–å­">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://open-native.com/article/k8s-fed/" title="åˆ†äº«åˆ° Facebook" aria-label="åˆ†äº«åˆ° Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://open-native.com/article/k8s-fed/" title="åˆ†äº«åˆ° Twitter" aria-label="åˆ†äº«åˆ° Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https://open-native.com/article/k8s-fed/" title="åˆ†äº«åˆ° Linkedin" aria-label="åˆ†äº«åˆ° Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#disqus_thread" aria-label="å‘è¡¨è¯„è®º">
        <i class="far fa-comment"></i>
      </a>
    </li>
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="å›åˆ°é¡¶éƒ¨">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


            
  
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
    <script type="text/javascript">
      var disqus_config = function() {
        this.page.url = 'https:\/\/open-native.com\/article\/k8s-fed\/';
        
          this.page.identifier = '\/article\/k8s-fed\/'
        
      };
      (function() {
        
        
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
          document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
          return;
        }
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = 'tranquilpeak';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
  


          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2023 é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°. All Rights Reserved
  </span>
  <span id="busuanzi_container_site_pv">
    æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
  </span>
  <span id="busuanzi_container_site_uv">
    æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡
  </span>
  <span id="busuanzi_container_page_pv">
    æœ¬æ–‡è®¿é—®é‡ï¼š<span id="busuanzi_value_page_pv"></span>
  </span>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://open-native.com/article/k8s-injection/" data-tooltip="æ·±å…¥ç†è§£Sidecar Injection" aria-label="ä¸‹ä¸€ç¯‡: æ·±å…¥ç†è§£Sidecar Injection">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">ä¸‹ä¸€ç¯‡</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://open-native.com/article/dapr-intro/" data-tooltip="DapråŠ©åŠ›å¼‚æ„è¯­è¨€ç³»ç»Ÿçš„äº‹ä»¶é©±åŠ¨æ¶æ„è®¾è®¡" aria-label="ä¸Šä¸€ç¯‡: DapråŠ©åŠ›å¼‚æ„è¯­è¨€ç³»ç»Ÿçš„äº‹ä»¶é©±åŠ¨æ¶æ„è®¾è®¡">
          
              <span class="hide-xs hide-sm text-small icon-mr">ä¸Šä¸€ç¯‡</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="åˆ†äº«è¿™ä¸ªå¸–å­">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://open-native.com/article/k8s-fed/" title="åˆ†äº«åˆ° Facebook" aria-label="åˆ†äº«åˆ° Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://open-native.com/article/k8s-fed/" title="åˆ†äº«åˆ° Twitter" aria-label="åˆ†äº«åˆ° Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https://open-native.com/article/k8s-fed/" title="åˆ†äº«åˆ° Linkedin" aria-label="åˆ†äº«åˆ° Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#disqus_thread" aria-label="å‘è¡¨è¯„è®º">
        <i class="far fa-comment"></i>
      </a>
    </li>
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="å›åˆ°é¡¶éƒ¨">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


      </div>
      
<div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-times"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fopen-native.com%2Farticle%2Fk8s-fed%2F" aria-label="åˆ†äº«åˆ° Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i><span>åˆ†äº«åˆ° Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fopen-native.com%2Farticle%2Fk8s-fed%2F" aria-label="åˆ†äº«åˆ° Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i><span>åˆ†äº«åˆ° Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fopen-native.com%2Farticle%2Fk8s-fed%2F" aria-label="åˆ†äº«åˆ° Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i><span>åˆ†äº«åˆ° Linkedin</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>


    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="https://open-native.obs.cn-north-4.myhuaweicloud.com/17242622.png" alt="ä½œè€…çš„å›¾ç‰‡" />
    
    <h4 id="about-card-name">é—²æ•£å·¥ç¨‹å¸ˆç¬”è®°</h4>
    
      <div id="about-card-bio">ä¸€åä¸æ–­æ¢ç´¢ã€åšæŒå­¦ä¹ çš„<strong>é—²æ•£å·¥ç¨‹å¸ˆ</strong></div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        äº‘åŸç”Ÿ.ç›é…’çŒ¿
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker-alt"></i>
        <br/>
        CHINAğŸ‡¨ğŸ‡³
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('https://open-native.com/images/cover.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js" integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="https://open-native.com/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js"></script>


  
    <script async crossorigin="anonymous" defer integrity="sha512-gE8KAQyFIzV1C9+GZ8TKJHZS2s+n7EjNtC+IMRn1l5+WYJTHOODUM6JSjZhFhqXmc7bG8Av6XXpckA4tYhflnw==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/apache.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-EWROca+bote+7Oaaar1F6y74iZj1r1F9rm/ly7o+/FwJopbBaWtsFDmaKoZDd3QiGU2pGacBirHJNivmGLYrow==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/go.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-GDVzAn0wpx1yVtQsRWmFc6PhJiLBPdUic+h4GWgljBh904O3JU10fk9EKNpVyIoPqkFn54rgL2QBG4BmUTMpiQ==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/http.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-UgZlma8NzkrDb/NWgmLIcTrH7i/CSnLLDRFqCSNF5NGPpjKmzyM25qcoXGOup8+cDakKyaiTDd7N4dyH4YT+IA==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/less.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-lot9koe73sfXIrUvIPM/UEhuMciN56RPyBdOyZgfO53P2lkWyyXN7J+njcxIIBRV+nVDQeiWtiXg+bLAJZDTfg==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/nginx.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-Zd3e7XxHP00TD0Imr0PIfeM0fl0v95kMWuhyAS3Wn1UTSXTkz0OhtRgBAr4JlmADRgiXr4x7lpeUdqaGN8xIog==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/puppet.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-qtqDO052iXMSP+5d/aE/jMtL9vIIGvONgTJziC2K/ZIB1yEGa55WVxGE9/08rSQ62EoDifS9SWVGZ7ihSLhzMA==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/scss.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-1NmkjnEDnwwwcu28KoQF8vs3oaPFokQHbmbtwGhFfeDsQZtVFI8zW2aE9O8yMYdpdyKV/5blE4pSWw4Z/Sv97w==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/stylus.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-B2wSfruPjr8EJL6IIzQr1eAuDwrsfIfccNf/LCEdxELCgC/S/ZMt/Uvk80aD79m7IqOqW+Sw8nbkvha20yZpzg==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/swift.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-28oDiQZGKUVN6wQ7PSLPNipOcmkCALXKwOi7bnkyFf8QiMZQxG9EQoy/iiNx6Zxj2cG2SbVa4dXKigQhu7GiFw==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/yaml.min.js"></script>
  


<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>




    
  </body>
</html>

